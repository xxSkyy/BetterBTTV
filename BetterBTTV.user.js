// ==UserScript==
// @name         BetterBetterTTV - Lepszy Lepszy Twitch TV!
// @namespace    http://tampermonkey.net/
// @version      0.7.2.2
// @description  Niech BTTv będzie naprawdę BETTER ! PogU
// @author       Skyy_xx
// @match        https://www.twitch.tv/*
// @grant        none
// @require http://code.jquery.com/jquery-3.4.1.min.js
// @require https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js
// ==/UserScript==

(function(){'use strict';var _0x8918x0=["ayaya","ehehe","momolewd","nyanpls","rainbowpls"];var _0x8918x1=[["rarePope","5d52fe5925570a0ac7e85130"],["RAREPOPE","5e5d774995a74a54e386036f"],["rareCaramba","596b72057e71d43314a77551"],["RARECARAMBA","5e5d7f1595a74a54e38603e0"]];var _0x8918x2=window["location"]["pathname"];var _0x8918x3=_0x8918x2["substring"](1)["toLowerCase"]();var _0x8918x4=0;var _0x8918x5=false;var _0x8918x6=false;var _0x8918x7=[];var _0x8918x8=[];var _0x8918x9=`<div class="bbttv-chat-settings tw-border-t tw-mg-t-2 tw-pd-t-2">
        <div class="tw-mg-y-05 tw-pd-x-05"><p class="tw-c-text-alt-2 tw-font-size-6 tw-strong tw-upcase">Better BetterTTV</p></div>
        <div class="tw-full-width tw-relative">
            <button id="switchAyayaMode" class=" tw-pd-05 tw-block tw-border-radius-medium tw-full-width tw-interactable--alpha tw-interactable--hover-enabled tw-interactable tw-interactive">No AYAYA mode : <span class="ayayaStatus"></span></button>
        </div>
</div>`;var _0x8918xa=`<div class="group-header" data-emote-channel="BetterBTTV Global Emotes">
	<div class="header-info">
		BetterBTTV Global Emotes
	</div>
	<div class="emote-container bbttv-emote-container">
	</div>
</div>`;var _0x8918xb=`<div class="group-header" data-emote-channel="BetterBTTV Channel Emotes">
	<div class="header-info">
		BetterBTTV Channel Emotes
	</div>
	<div class="emote-container bbttv-channel-emote-container">
	</div>
</div>`;_0x8918x13();_0x8918xc();setInterval(_0x8918x17,5000);function _0x8918xc(){let _0x8918xd=$["cookie"]("disableAyaya");if(_0x8918xd== 'true'){_0x8918x5= true};let _0x8918xe=$["cookie"]("removedAyaya");if(_0x8918xe> 0){_0x8918xe= _0x8918x4}}function _0x8918xf(_0x8918x10,_0x8918x11){return '<div class=\"bttv-emote-tooltip-wrapper bttv-emote bttv-channel bttv-channel-emo\"> <img src=\"https://cdn.betterttv.net/emote/'+ _0x8918x11+ '/1x\" srcset=\"https://cdn.betterttv.net/emote/'+ _0x8918x11+ '/2x 2x, https://cdn.betterttv.net/emote/'+ _0x8918x11+ '/3x 4x\" alt=\"rarePope\" class=\"chat-line__message--emote\"> <div class=\"bttv-emote-tooltip bttv-emote-tooltip--up bttv-emote-tooltip--align-center\"> '+ _0x8918x10+ '<br> Skyy_xx : daj mi subka peepoLove </div> </div>'}function _0x8918x12(_0x8918x10,_0x8918x11){return '<div class=\"emote third-party bbttv-emote\" data-emote=\"'+ _0x8918x10+ '\" title=\"'+ _0x8918x10+ ' (from 3rd Better BTTV)\"><img class=\"lazy-emote\" data-src=\"https://cdn.betterttv.net/emote/'+ _0x8918x11+ '/2x\" src=\"https://cdn.betterttv.net/emote/'+ _0x8918x11+ '/2x\"></div>'}function _0x8918x13(){fetch('https://raw.githubusercontent.com/xxSkyy/BetterBTTV/master/data.json')["then"]((_0x8918x16)=>{return _0x8918x16["json"]()})["then"]((_0x8918x14)=>{if(_0x8918x14["emotes"]){_0x8918x1= _0x8918x14["emotes"];_0x8918x7= _0x8918x14["emotes"];console["log"]("BetterBTTV | Zaktualizowano emoty")};if(_0x8918x14["channels"][_0x8918x3]){let _0x8918x15=_0x8918x14["channels"][_0x8918x3];_0x8918x1= _0x8918x15["concat"](_0x8918x1);console["log"]("BetterBTTV | Dodano emoty kana\u0142u");_0x8918x8= _0x8918x15;_0x8918x6= true};if(_0x8918x14["ayaya"]){_0x8918x0= _0x8918x14["ayaya"]}})}function _0x8918x17(){$(".tw-button.tw-button--success.tw-interactive")["click"]()}function _0x8918x18(){let _0x8918x19=$(".chat-settings__content");if($(_0x8918x19)["length"]){$(_0x8918x19)["append"](_0x8918x9);$("#switchAyayaMode")["click"](function(){_0x8918x5=  !_0x8918x5;_0x8918x1a();$["cookie"]("disableAyaya",_0x8918x5)});_0x8918x1a()}}function _0x8918x1a(){if(_0x8918x5){$(".ayayaStatus")["html"]("<a style=\'color:green\'>ON</a>")}else {$(".ayayaStatus")["html"]("<a style=\'color:red\'>OFF</a>")}}function _0x8918x1b(_0x8918x1c){var _0x8918x1d=_0x8918x1c["concat"]();for(var _0x8918x1e=0;_0x8918x1e< _0x8918x1d["length"];++_0x8918x1e){for(var _0x8918x1f=_0x8918x1e+ 1;_0x8918x1f< _0x8918x1d["length"];++_0x8918x1f){if(_0x8918x1d[_0x8918x1e]=== _0x8918x1d[_0x8918x1f]){_0x8918x1d["splice"](_0x8918x1f--,1)}}};return _0x8918x1d}$(document)["ready"](function(){console["log"]("BetterBTTV - By Skyy_xx - Discord : Sky#2594");function _0x8918x20(){let _0x8918x21=false;if($(".emote-menu")["length"]){_0x8918x21= true};if(_0x8918x21){$("#all-emotes-group")["prepend"](_0x8918xa);for(let _0x8918x22=0;_0x8918x22< _0x8918x7["length"];_0x8918x22++){$(".bbttv-emote-container")["append"](_0x8918x12(_0x8918x7[_0x8918x22][0],_0x8918x7[_0x8918x22][1]))};if(_0x8918x6){$("#all-emotes-group")["prepend"](_0x8918xb);for(let _0x8918x22=0;_0x8918x22< _0x8918x8["length"];_0x8918x22++){$(".bbttv-channel-emote-container")["append"](_0x8918x12(_0x8918x8[_0x8918x22][0],_0x8918x8[_0x8918x22][1]))}};$(".bbttv-emote")["click"](function(){let _0x8918x23=$(this)["attr"]("data-emote");prompt("Kod emotki (skopiuj i wklej na chat) : ",_0x8918x23+ " ")});console["log"]("Better BTTV | Dodano emotki do menu!")}else {setTimeout(_0x8918x20,2000)}}function _0x8918x24(){var _0x8918x21=false;if($(".chat-list__list-container")["length"]){_0x8918x21= true};if(_0x8918x21){console["log"]("BetterBTTV | Wczytano!");$(".chat-list__list-container")["attr"]("id","watchMe");$("button[data-a-target=\'chat-settings\']")["click"](function(){setTimeout(_0x8918x18,150)});$("#watchMe")["on"]('DOMNodeInserted',function(_0x8918x22){var _0x8918x25=$(_0x8918x22["target"])["find"](".text-fragment");if(_0x8918x25["length"]){let _0x8918x26=$(_0x8918x25[0])["html"]();let _0x8918x27=_0x8918x26["split"](" ");for(let _0x8918x28=0;_0x8918x28< _0x8918x27["length"];_0x8918x28++){for(let _0x8918x22=0;_0x8918x22< _0x8918x1["length"];_0x8918x22++){if(_0x8918x27[_0x8918x28]== _0x8918x1[_0x8918x22][0]){_0x8918x27[_0x8918x28]= _0x8918xf(_0x8918x1[_0x8918x22][0],_0x8918x1[_0x8918x22][1])}}};_0x8918x26= _0x8918x27["join"](" ");$(_0x8918x25[0])["html"](_0x8918x26)};var _0x8918x29=$(_0x8918x22["target"])["find"](".bttv-emote");for(var _0x8918x1e=0;_0x8918x1e< _0x8918x29["length"];_0x8918x1e++){let _0x8918x2a=_0x8918x29[_0x8918x1e];let _0x8918x2b=false;for(var _0x8918x2c=0;_0x8918x2c< _0x8918x0["length"];_0x8918x2c++){let _0x8918x2d=_0x8918x0[_0x8918x2c];let _0x8918x2e=$(_0x8918x2a)["html"]()["toLowerCase"]()["indexOf"](_0x8918x2d);if(_0x8918x2e>  -1){_0x8918x2b= true}};if(_0x8918x2b&& _0x8918x5){_0x8918x4++;$["cookie"]("removedAyaya",_0x8918x4);console["log"]("Czat zosta\u0142 wyleczony z "+ _0x8918x4+ " paskudnych emotek (od instalacji pluginu)");$(_0x8918x2a)["remove"]()}}})}else {console["log"]("BetterBTTV | Czekanie a\u017c wczyta si\u0119 strona...");setTimeout(_0x8918x24,2000)}}_0x8918x24();_0x8918x20()})})()