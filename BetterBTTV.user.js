// ==UserScript==
// @name         BetterBetterTTV - Lepszy Lepszy Twitch TV!
// @namespace    http://tampermonkey.net/
// @version      0.6.6
// @description  Niech BTTv będzie naprawdę BETTER ! PogU
// @author       Skyy_xx
// @match        https://www.twitch.tv/*
// @grant        none
// @require http://code.jquery.com/jquery-3.4.1.min.js
// @require https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js
// ==/UserScript==

(function(){'use strict';var _0x293ax0=["ayaya","ehehe","momolewd","nyanpls","rainbowpls"];var _0x293ax1=[["rarePope","5d52fe5925570a0ac7e85130"],["RAREPOPE","5e5d774995a74a54e386036f"],["rareCaramba","596b72057e71d43314a77551"],["RARECARAMBA","5e5d7f1595a74a54e38603e0"]];var _0x293ax2=window["location"]["pathname"];var _0x293ax3=_0x293ax2["substring"](1)["toLowerCase"]();var _0x293ax4=0;var _0x293ax5=false;var _0x293ax6=false;var _0x293ax7=[];var _0x293ax8=[];var _0x293ax9=`<div class="bbttv-chat-settings tw-border-t tw-mg-t-2 tw-pd-t-2">
        <div class="tw-mg-y-05 tw-pd-x-05"><p class="tw-c-text-alt-2 tw-font-size-6 tw-strong tw-upcase">Better BetterTTV</p></div>
        <div class="tw-full-width tw-relative">
            <button id="switchAyayaMode" class=" tw-pd-05 tw-block tw-border-radius-medium tw-full-width tw-interactable--alpha tw-interactable--hover-enabled tw-interactable tw-interactive">No AYAYA mode : <span class="ayayaStatus"></span></button>
        </div>
</div>`;var _0x293axa=`<div class="group-header" data-emote-channel="BetterBTTV Global Emotes">
	<div class="header-info">
		BetterBTTV Global Emotes
	</div>
	<div class="emote-container bbttv-emote-container">
	</div>
</div>`;var _0x293axb=`<div class="group-header" data-emote-channel="BetterBTTV Channel Emotes">
	<div class="header-info">
		BetterBTTV Channel Emotes
	</div>
	<div class="emote-container bbttv-channel-emote-container">
	</div>
</div>`;_0x293ax13();_0x293axc();setInterval(_0x293ax17,5000);function _0x293axc(){let _0x293axd=$["cookie"]("disableAyaya");if(_0x293axd== 'true'){_0x293ax5= true};let _0x293axe=$["cookie"]("removedAyaya");if(_0x293axe> 0){_0x293axe= _0x293ax4}}function _0x293axf(_0x293ax10,_0x293ax11){return '<div class=\"bttv-emote-tooltip-wrapper bttv-emote bttv-channel bttv-channel-emo\"> <img src=\"https://cdn.betterttv.net/emote/'+ _0x293ax11+ '/1x\" srcset=\"https://cdn.betterttv.net/emote/'+ _0x293ax11+ '/2x 2x, https://cdn.betterttv.net/emote/'+ _0x293ax11+ '/3x 4x\" alt=\"rarePope\" class=\"chat-line__message--emote\"> <div class=\"bttv-emote-tooltip bttv-emote-tooltip--up bttv-emote-tooltip--align-center\"> '+ _0x293ax10+ '<br> Skyy_xx : daj mi subka peepoLove </div> </div>'}function _0x293ax12(_0x293ax10,_0x293ax11){return '<div class=\"emote third-party bbttv-emote\" data-emote=\"'+ _0x293ax10+ '\" title=\"'+ _0x293ax10+ ' (from 3rd Better BTTV)\"><img class=\"lazy-emote\" data-src=\"https://cdn.betterttv.net/emote/'+ _0x293ax11+ '/2x\" src=\"https://cdn.betterttv.net/emote/'+ _0x293ax11+ '/2x\"></div>'}function _0x293ax13(){fetch('https://raw.githubusercontent.com/xxSkyy/BetterBTTV/master/data.json')["then"]((_0x293ax16)=>{return _0x293ax16["json"]()})["then"]((_0x293ax14)=>{if(_0x293ax14["emotes"]){_0x293ax1= _0x293ax14["emotes"];_0x293ax7= _0x293ax14["emotes"];console["log"]("BetterBTTV | Zaktualizowano emoty")};if(_0x293ax14["channels"][_0x293ax3]){let _0x293ax15=_0x293ax14["channels"][_0x293ax3];_0x293ax1= _0x293ax15["concat"](_0x293ax1);console["log"]("BetterBTTV | Dodano emoty kana\u0142u");_0x293ax8= _0x293ax15;_0x293ax6= true};if(_0x293ax14["ayaya"]){_0x293ax0= _0x293ax14["ayaya"]}})}function _0x293ax17(){$(".tw-button.tw-button--success.tw-interactive")["click"]()}function _0x293ax18(){let _0x293ax19=$(".chat-settings__content");if($(_0x293ax19)["length"]){$(_0x293ax19)["append"](_0x293ax9);$("#switchAyayaMode")["click"](function(){_0x293ax5=  !_0x293ax5;_0x293ax1a();$["cookie"]("disableAyaya",_0x293ax5)});_0x293ax1a()}}function _0x293ax1a(){if(_0x293ax5){$(".ayayaStatus")["html"]("<a style=\'color:green\'>ON</a>")}else {$(".ayayaStatus")["html"]("<a style=\'color:red\'>OFF</a>")}}function _0x293ax1b(_0x293ax1c){var _0x293ax1d=_0x293ax1c["concat"]();for(var _0x293ax1e=0;_0x293ax1e< _0x293ax1d["length"];++_0x293ax1e){for(var _0x293ax1f=_0x293ax1e+ 1;_0x293ax1f< _0x293ax1d["length"];++_0x293ax1f){if(_0x293ax1d[_0x293ax1e]=== _0x293ax1d[_0x293ax1f]){_0x293ax1d["splice"](_0x293ax1f--,1)}}};return _0x293ax1d}$(document)["ready"](function(){console["log"]("BetterBTTV - By Skyy_xx - Discord : Sky#2594");function _0x293ax20(){let _0x293ax21=false;if($(".emote-menu")["length"]){_0x293ax21= true};if(_0x293ax21){$("#all-emotes-group")["prepend"](_0x293axa);for(let _0x293ax22=0;_0x293ax22< _0x293ax7["length"];_0x293ax22++){$(".bbttv-emote-container")["append"](_0x293ax12(_0x293ax7[_0x293ax22][0],_0x293ax7[_0x293ax22][1]))};if(_0x293ax6){$("#all-emotes-group")["prepend"](_0x293axb);for(let _0x293ax22=0;_0x293ax22< _0x293ax8["length"];_0x293ax22++){$(".bbttv-channel-emote-container")["append"](_0x293ax12(_0x293ax8[_0x293ax22][0],_0x293ax8[_0x293ax22][1]))}};$(".bbttv-emote")["click"](function(){let _0x293ax23=$(this)["attr"]("data-emote");prompt("Kod emotki (skopiuj i wklej na chat) : ",_0x293ax23+ " ")});console["log"]("Better BTTV | Dodano emotki do menu!")}else {setTimeout(_0x293ax20,2000)}}function _0x293ax24(){var _0x293ax21=false;if($(".chat-list__list-container")["length"]){_0x293ax21= true};if(_0x293ax21){console["log"]("BetterBTTV | Wczytano!");$(".chat-list__list-container")["attr"]("id","watchMe");$("button[data-a-target=\'chat-settings\']")["click"](function(){setTimeout(_0x293ax18,150)});$("#watchMe")["on"]('DOMNodeInserted',function(_0x293ax22){var _0x293ax25=$(_0x293ax22["target"])["find"](".text-fragment");if(_0x293ax25["length"]){let _0x293ax26=$(_0x293ax25[0])["html"]();let _0x293ax27=_0x293ax26["split"](" ");for(let _0x293ax28=0;_0x293ax28< _0x293ax27["length"];_0x293ax28++){for(let _0x293ax22=0;_0x293ax22< _0x293ax1["length"];_0x293ax22++){if(_0x293ax27[_0x293ax28]== _0x293ax1[_0x293ax22][0]){_0x293ax27[_0x293ax28]= _0x293axf(_0x293ax1[_0x293ax22][0],_0x293ax1[_0x293ax22][1])}}};_0x293ax26= _0x293ax27["join"](" ");$(_0x293ax25[0])["html"](_0x293ax26)};var _0x293ax29=$(_0x293ax22["target"])["find"](".bttv-emote");for(var _0x293ax1e=0;_0x293ax1e< _0x293ax29["length"];_0x293ax1e++){let _0x293ax2a=_0x293ax29[_0x293ax1e];let _0x293ax2b=false;for(var _0x293ax2c=0;_0x293ax2c< _0x293ax0["length"];_0x293ax2c++){let _0x293ax2d=_0x293ax0[_0x293ax2c];let _0x293ax2e=$(_0x293ax2a)["html"]()["toLowerCase"]()["indexOf"](_0x293ax2d);if(_0x293ax2e>  -1){_0x293ax2b= true}};if(_0x293ax2b&& _0x293ax5){_0x293ax4++;$["cookie"]("removedAyaya",_0x293ax4);console["log"]("Czat zosta\u0142 wyleczony z "+ _0x293ax4+ " paskudnych emotek (od instalacji pluginu)");$(_0x293ax2a)["remove"]()}}})}else {console["log"]("BetterBTTV | Czekanie a\u017c wczyta si\u0119 strona...");setTimeout(_0x293ax24,2000)}}_0x293ax24();_0x293ax20()})})()