// ==UserScript==
// @name         BetterBetterTTV - Lepszy Lepszy Twitch TV!
// @namespace    http://tampermonkey.net/
// @version      0.7.3.1
// @description  Niech BTTv będzie naprawdę BETTER ! PogU
// @author       Skyy_xx
// @match        https://www.twitch.tv/*
// @grant        none
// @require http://code.jquery.com/jquery-3.4.1.min.js
// @require https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js
// ==/UserScript==

(function(){'use strict';var _0x6cbax0=["ayaya","ehehe","momolewd","nyanpls","rainbowpls"];var _0x6cbax1=[["rarePope","5d52fe5925570a0ac7e85130"],["RAREPOPE","5e5d774995a74a54e386036f"],["rareCaramba","596b72057e71d43314a77551"],["RARECARAMBA","5e5d7f1595a74a54e38603e0"]];var _0x6cbax2=['https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/1.png','https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/2.png','https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/3.png'];var _0x6cbax3=`<span title="Twórca Better BTTV"><img alt="Twórca BetterBTTV" aria-label="Odznaka „Twórca BetterBTTV”" class="chat-badge" src="https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/1.png" srcset="https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/1.png 1x, https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/2.png 2x, https://github.com/xxSkyy/BetterBTTV/raw/master/src/ownerBadge/3.png 4x"></span>`;var _0x6cbax4='skyy_xx';var _0x6cbax5=window["location"]["pathname"];var _0x6cbax6=_0x6cbax5["substring"](1)["toLowerCase"]();var _0x6cbax7=0;var _0x6cbax8=false;var _0x6cbax9=false;var _0x6cbaxa=[];var _0x6cbaxb=[];var _0x6cbaxc=`<div class="bbttv-chat-settings tw-border-t tw-mg-t-2 tw-pd-t-2">
        <div class="tw-mg-y-05 tw-pd-x-05"><p class="tw-c-text-alt-2 tw-font-size-6 tw-strong tw-upcase">Better BetterTTV</p></div>
        <div class="tw-full-width tw-relative">
            <button id="switchAyayaMode" class=" tw-pd-05 tw-block tw-border-radius-medium tw-full-width tw-interactable--alpha tw-interactable--hover-enabled tw-interactable tw-interactive">No AYAYA mode : <span class="ayayaStatus"></span></button>
        </div>
</div>`;var _0x6cbaxd=`<div class="group-header" data-emote-channel="BetterBTTV Global Emotes">
	<div class="header-info">
		BetterBTTV Global Emotes
	</div>
	<div class="emote-container bbttv-emote-container">
	</div>
</div>`;var _0x6cbaxe=`<div class="group-header" data-emote-channel="BetterBTTV Channel Emotes">
	<div class="header-info">
		BetterBTTV Channel Emotes
	</div>
	<div class="emote-container bbttv-channel-emote-container">
	</div>
</div>`;_0x6cbax16();_0x6cbaxf();setInterval(_0x6cbax1a,5000);function _0x6cbaxf(){let _0x6cbax10=$["cookie"]("disableAyaya");if(_0x6cbax10== 'true'){_0x6cbax8= true};let _0x6cbax11=$["cookie"]("removedAyaya");if(_0x6cbax11> 0){_0x6cbax11= _0x6cbax7}}function _0x6cbax12(_0x6cbax13,_0x6cbax14){return '<div class=\"bttv-emote-tooltip-wrapper bttv-emote bttv-channel bttv-channel-emo\"> <img src=\"https://cdn.betterttv.net/emote/'+ _0x6cbax14+ '/1x\" srcset=\"https://cdn.betterttv.net/emote/'+ _0x6cbax14+ '/2x 2x, https://cdn.betterttv.net/emote/'+ _0x6cbax14+ '/3x 4x\" alt=\"rarePope\" class=\"chat-line__message--emote\"> <div class=\"bttv-emote-tooltip bttv-emote-tooltip--up bttv-emote-tooltip--align-center\"> '+ _0x6cbax13+ '<br> Skyy_xx : daj mi subka peepoLove </div> </div>'}function _0x6cbax15(_0x6cbax13,_0x6cbax14){return '<div class=\"emote third-party bbttv-emote\" data-emote=\"'+ _0x6cbax13+ '\" title=\"'+ _0x6cbax13+ ' (from 3rd Better BTTV)\"><img class=\"lazy-emote\" data-src=\"https://cdn.betterttv.net/emote/'+ _0x6cbax14+ '/2x\" src=\"https://cdn.betterttv.net/emote/'+ _0x6cbax14+ '/2x\"></div>'}function _0x6cbax16(){fetch('https://raw.githubusercontent.com/xxSkyy/BetterBTTV/master/data.json')["then"]((_0x6cbax19)=>{return _0x6cbax19["json"]()})["then"]((_0x6cbax17)=>{if(_0x6cbax17["emotes"]){_0x6cbax1= _0x6cbax17["emotes"];_0x6cbaxa= _0x6cbax17["emotes"];console["log"]("BetterBTTV | Zaktualizowano emoty")};if(_0x6cbax17["channels"][_0x6cbax6]){let _0x6cbax18=_0x6cbax17["channels"][_0x6cbax6];_0x6cbax1= _0x6cbax18["concat"](_0x6cbax1);console["log"]("BetterBTTV | Dodano emoty kana\u0142u");_0x6cbaxb= _0x6cbax18;_0x6cbax9= true};if(_0x6cbax17["ayaya"]){_0x6cbax0= _0x6cbax17["ayaya"]}})}function _0x6cbax1a(){$(".tw-button.tw-button--success.tw-interactive")["click"]()}function _0x6cbax1b(){let _0x6cbax1c=$(".chat-settings__content");if($(_0x6cbax1c)["length"]){$(_0x6cbax1c)["append"](_0x6cbaxc);$("#switchAyayaMode")["click"](function(){_0x6cbax8=  !_0x6cbax8;_0x6cbax1d();$["cookie"]("disableAyaya",_0x6cbax8)});_0x6cbax1d()}}function _0x6cbax1d(){if(_0x6cbax8){$(".ayayaStatus")["html"]("<a style=\'color:green\'>ON</a>")}else {$(".ayayaStatus")["html"]("<a style=\'color:red\'>OFF</a>")}}function _0x6cbax1e(_0x6cbax1f){var _0x6cbax20=_0x6cbax1f["concat"]();for(var _0x6cbax21=0;_0x6cbax21< _0x6cbax20["length"];++_0x6cbax21){for(var _0x6cbax22=_0x6cbax21+ 1;_0x6cbax22< _0x6cbax20["length"];++_0x6cbax22){if(_0x6cbax20[_0x6cbax21]=== _0x6cbax20[_0x6cbax22]){_0x6cbax20["splice"](_0x6cbax22--,1)}}};return _0x6cbax20}$(document)["ready"](function(){console["log"]("BetterBTTV - By Skyy_xx - Discord : Sky#2594");function _0x6cbax23(){let _0x6cbax24=false;if($(".emote-menu")["length"]){_0x6cbax24= true};if(_0x6cbax24){$("#all-emotes-group")["prepend"](_0x6cbaxd);for(let _0x6cbax25=0;_0x6cbax25< _0x6cbaxa["length"];_0x6cbax25++){$(".bbttv-emote-container")["append"](_0x6cbax15(_0x6cbaxa[_0x6cbax25][0],_0x6cbaxa[_0x6cbax25][1]))};if(_0x6cbax9){$("#all-emotes-group")["prepend"](_0x6cbaxe);for(let _0x6cbax25=0;_0x6cbax25< _0x6cbaxb["length"];_0x6cbax25++){$(".bbttv-channel-emote-container")["append"](_0x6cbax15(_0x6cbaxb[_0x6cbax25][0],_0x6cbaxb[_0x6cbax25][1]))}};$(".bbttv-emote")["click"](function(){let _0x6cbax26=$(this)["attr"]("data-emote");prompt("Kod emotki (skopiuj i wklej na chat) : ",_0x6cbax26+ " ")});console["log"]("Better BTTV | Dodano emotki do menu!")}else {setTimeout(_0x6cbax23,2000)}}function _0x6cbax27(){var _0x6cbax24=false;if($(".chat-list__list-container")["length"]){_0x6cbax24= true};if(_0x6cbax24){console["log"]("BetterBTTV | Wczytano!");$(".chat-list__list-container")["attr"]("id","watchMe");$("button[data-a-target=\'chat-settings\']")["click"](function(){setTimeout(_0x6cbax1b,150)});$("#watchMe")["on"]('DOMNodeInserted',function(_0x6cbax25){if($(_0x6cbax25["target"])["find"]("span.chat-line__username>span>span")["length"]){if($(_0x6cbax25["target"])["find"]("span.chat-line__username span span")["html"]()== _0x6cbax4){$(_0x6cbax25["target"])["prepend"](_0x6cbax3)}};var _0x6cbax28=$(_0x6cbax25["target"])["find"](".text-fragment");if(_0x6cbax28["length"]){let _0x6cbax29=$(_0x6cbax28[0])["html"]();let _0x6cbax2a=_0x6cbax29["split"](" ");for(let _0x6cbax2b=0;_0x6cbax2b< _0x6cbax2a["length"];_0x6cbax2b++){for(let _0x6cbax25=0;_0x6cbax25< _0x6cbax1["length"];_0x6cbax25++){if(_0x6cbax2a[_0x6cbax2b]== _0x6cbax1[_0x6cbax25][0]){_0x6cbax2a[_0x6cbax2b]= _0x6cbax12(_0x6cbax1[_0x6cbax25][0],_0x6cbax1[_0x6cbax25][1])}}};_0x6cbax29= _0x6cbax2a["join"](" ");$(_0x6cbax28[0])["html"](_0x6cbax29)};var _0x6cbax2c=$(_0x6cbax25["target"])["find"](".bttv-emote");for(var _0x6cbax21=0;_0x6cbax21< _0x6cbax2c["length"];_0x6cbax21++){let _0x6cbax2d=_0x6cbax2c[_0x6cbax21];let _0x6cbax2e=false;for(var _0x6cbax2f=0;_0x6cbax2f< _0x6cbax0["length"];_0x6cbax2f++){let _0x6cbax30=_0x6cbax0[_0x6cbax2f];let _0x6cbax31=$(_0x6cbax2d)["html"]()["toLowerCase"]()["indexOf"](_0x6cbax30);if(_0x6cbax31>  -1){_0x6cbax2e= true}};if(_0x6cbax2e&& _0x6cbax8){_0x6cbax7++;$["cookie"]("removedAyaya",_0x6cbax7);console["log"]("Czat zosta\u0142 wyleczony z "+ _0x6cbax7+ " paskudnych emotek (od instalacji pluginu)");$(_0x6cbax2d)["remove"]()}}})}else {console["log"]("BetterBTTV | Czekanie a\u017c wczyta si\u0119 strona...");setTimeout(_0x6cbax27,2000)}}_0x6cbax27();_0x6cbax23()})})()